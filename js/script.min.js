"use strict";const menuBtn=document.querySelector(".menu-btn");let mobMenu=document.querySelector(".mob-menu"),menuOpen=!1;function ibg(){let e=document.querySelectorAll(".ibg");for(let t=0;t<e.length;t++)e[t].querySelector("img")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}function DynamicAdapt(e){this.type=e}menuBtn.addEventListener("click",()=>{menuOpen?(menuBtn.classList.remove("open"),menuOpen=!1):(menuBtn.classList.add("open"),menuOpen=!0),menuBtn.classList.contains("open")?mobMenu.classList.add("active"):mobMenu.classList.remove("active")}),ibg(),DynamicAdapt.prototype.init=function(){const e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],i=t.dataset.da.trim().split(","),n={};n.element=t,n.parent=t.parentNode,n.destination=document.querySelector(i[0].trim()),n.breakpoint=i[1]?i[1].trim():"767",n.place=i[2]?i[2].trim():"last",n.index=this.indexInParent(n.parent,n.element),this.оbjects.push(n)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,i){return Array.prototype.indexOf.call(i,e)===t}));for(let t=0;t<this.mediaQueries.length;t++){const i=this.mediaQueries[t],n=String.prototype.split.call(i,","),r=window.matchMedia(n[0]),a=n[1],l=Array.prototype.filter.call(this.оbjects,(function(e){return e.breakpoint===a}));r.addListener((function(){e.mediaHandler(r,l)})),this.mediaHandler(r,l)}},DynamicAdapt.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const i=t[e];i.index=this.indexInParent(i.parent,i.element),this.moveTo(i.place,i.element,i.destination)}else for(let e=0;e<t.length;e++){const i=t[e];i.element.classList.contains(this.daClassname)&&this.moveBack(i.parent,i.element,i.index)}},DynamicAdapt.prototype.moveTo=function(e,t,i){t.classList.add(this.daClassname),"last"===e||e>=i.children.length?i.insertAdjacentElement("beforeend",t):"first"!==e?i.children[e].insertAdjacentElement("beforebegin",t):i.insertAdjacentElement("afterbegin",t)},DynamicAdapt.prototype.moveBack=function(e,t,i){t.classList.remove(this.daClassname),void 0!==e.children[i]?e.children[i].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},DynamicAdapt.prototype.indexInParent=function(e,t){const i=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(i,t)},DynamicAdapt.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))};const da=new DynamicAdapt("max");da.init();const navLink=document.querySelectorAll(".nav-menu__list li a");navLink.forEach(e=>{e.addEventListener("click",(function(t){t.preventDefault(),menuBtn.classList.contains("open")&&mobMenu.classList.contains("active")&&(mobMenu.classList.remove("active"),menuBtn.classList.remove("open"));const i=e.getAttribute("href").substr(1);document.getElementById(i).scrollIntoView({behavior:"smooth",block:"start"})}))}),function(){let e=document.createElement("canvas"),t=e.getContext("2d"),i=e.width=innerWidth,n=e.height=innerHeight,r=[],a="rgba(10, 21, 33, 0.933)",l="rgba(255, 40, 40, 1)",o=3,s=30,c=.5,d=200,h=7;document.querySelector(".mob-menu").appendChild(e),window.onresize=function(){i=e.width=innerWidth,n=e.height=innerHeight};class m{constructor(){this.x=Math.random()*i,this.y=Math.random()*n,this.velocityX=Math.random()*(2*c)-c,this.velocityY=Math.random()*(2*c)-c,this.life=Math.random()*h*60}position(){this.x+this.velocityX>i&&this.velocityX>0||this.x+this.velocityX<0&&this.velocityX<0?this.velocityX*=-1:this.velocityX,this.y+this.velocityY>n&&this.velocityY>0||this.y+this.velocityY<0&&this.velocityY<0?this.velocityY*=-1:this.velocityY,this.x+=this.velocityX,this.y+=this.velocityY}reDraw(){t.beginPath(),t.arc(this.x,this.y,o,0,2*Math.PI),t.closePath(),t.fillStyle=l,t.fill()}reCalculateLife(){this.life<1&&(this.x=Math.random()*i,this.y=Math.random()*n,this.velocityX=Math.random()*(2*c)-c,this.velocityY=Math.random()*(2*c)-c,this.life=Math.random()*h*60),this.life--}}function p(){t.fillStyle=a,t.fillRect(0,0,i,n),function(){for(var e in r)r[e].reCalculateLife(),r[e].position(),r[e].reDraw()}(),function(){var e,i,n,a,l,o;for(var s in r)for(var c in r)e=r[s].x,i=r[s].y,n=r[c].x,a=r[c].y,(l=Math.sqrt(Math.pow(n-e,2)+Math.pow(a-i,2)))<d&&(o=1-l/d,t.lineWidth="0.5",t.strokeStyle="rgba(255, 40, 40, "+o+")",t.beginPath(),t.moveTo(e,i),t.lineTo(n,a),t.closePath(),t.stroke())}(),requestAnimationFrame(p)}!function(){for(var e=0;e<s;e++)r.push(new m);p()}()}();const slideBtn=document.querySelectorAll(".btn-slider__buttons"),sliderSerials=new Swiper(".serials__slider",{navigation:{nextEl:".serials__slider-arrow-next",prevEl:".serials__slider-arrow-prev"},loop:!0,autoplay:!0,wrapperClass:"serials__body",slideClass:"serials__slide",slidesPerView:"auto"}),sliderBtn=new Swiper(".btn-slider",{navigation:{nextEl:".btn-slider__arrow-next",prevEl:".btn-slider__arrow-prev"},slidesPerView:"auto",wrapperClass:"btn-slider__body",slideClass:"btn-slider__buttons"});slideBtn.forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("activ")})});const filmListBtn=document.querySelector(".film-list__button"),filmCard=document.querySelectorAll(".card-film"),parent=document.querySelector(".film-list__row");if(filmListBtn.addEventListener("click",()=>{let e=parent.clientWidth;if(e>=1170)for(let e=0;e<5;e++){let e=Math.floor(Math.random()*filmCard.length-1),t=filmCard[e].cloneNode(!0);parent.appendChild(t)}if(e<1160&&e>=550)for(let e=0;e<2;e++){let e=Math.floor(Math.random()*filmCard.length-1),t=filmCard[e].cloneNode(!0);parent.appendChild(t)}if(e<550&&e>=250)for(let e=0;e<1;e++){let e=Math.floor(Math.random()*filmCard.length-1),t=filmCard[e].cloneNode(!0);parent.appendChild(t)}}),window.innerWidth<=1150&&window.innerWidth>=550)for(let e=0;e<filmCard.length-6;e++)parent.removeChild(filmCard[e]);if(window.innerWidth<=540&&window.innerWidth>=250)for(let e=0;e<filmCard.length-2;e++)parent.removeChild(filmCard[e]);